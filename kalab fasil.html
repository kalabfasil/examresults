<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Exam Results</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/exam.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Exam page specific styles */
#exam-hero {
    height: 50vh;
    display: flex;
    align-items: center;
    background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('../images/exam-bg.jpg');
    background-size: cover;
    background-position: center;
    color: white;
    margin-top: 70px;
}

/* Form styles */
.exam-form-container {
    background-color: white;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    max-width: 900px;
    margin: 0 auto;
    background: url(Menina que faz o seu exame _ Foto Gr√°tis.jpg);
}

.form-row {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
}

.form-row .form-group {
    flex: 1;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    font-family: inherit;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary-color);
}

.text-center {
    text-align: center;
}

/* Results table styles */
.results-container {
    background-color: white;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    overflow-x: auto;
}

.filters {
    display: flex;
    gap: 20px;
    margin-bottom: 30px;
    flex-wrap: wrap;
    align-items: flex-end;
}

.filter-group {
    flex: 1;
    min-width: 200px;
}

.filter-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
}

.filter-group select {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 5px;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
}

table th,
table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}

table th {
    background-color: #f5f5f5;
    font-weight: 600;
}

table tbody tr:hover {
    background-color: #f9f9f9;
}

.action-btn {
    background-color: transparent;
    border: none;
    cursor: pointer;
    margin-right: 10px;
    color: var(--primary-color);
    font-size: 1rem;
}

.delete-btn {
    color: var(--danger-color);
}

.no-results {
    text-align: center;
    padding: 30px;
    color: var(--secondary-color);
}

/* Statistics section */
.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
    margin-bottom: 50px;
}

.stat-card {
    background-color: white;
    border-radius: 8px;
    padding: 25px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
}

.stat-icon {
    background-color: var(--primary-color);
    color: white;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 20px;
}

.stat-icon i {
    font-size: 24px;
}

.stat-info h3 {
    margin-bottom: 5px;
    font-size: 1.1rem;
    color: var(--secondary-color);
}

.stat-info p {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--dark-color);
}

/* Modal styles */
.modal {
    display: none;
    position: fixed;
    z-index: 200;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    overflow: auto;
}

.modal-content {
    background-color: white;
    margin: 10% auto;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    max-width: 600px;
    position: relative;
}

.close-modal {
    position: absolute;
    right: 20px;
    top: 15px;
    font-size: 1.8rem;
    cursor: pointer;
}

.result-details {
    margin-top: 25px;
}

.detail-row {
    margin-bottom: 15px;
}

.detail-row strong {
    display: inline-block;
    width: 120px;
    color: var(--secondary-color);
}

/* Responsive styles */
@media (max-width: 768px) {
    .form-row {
        flex-direction: column;
        gap: 0;
    }

    .filters {
        flex-direction: column;
        gap: 15px;
    }

    .filter-group {
        width: 100%;
    }

    .stats-container {
        grid-template-columns: 1fr;
    }

    .modal-content {
        width: 90%;
        margin: 20% auto;
    }
} 
  </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">Family Portal</div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#add-result">Add Result</a></li>
                    <li><a href="#view-results">View Results</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <section id="exam-hero">
        <div class="container">
            <div class="hero-content">
                <h1>Family <span class="highlight">Exam Results</span></h1>
                <p>Track and celebrate academic achievements together</p>
            </div>
        </div>
    </section>

    <section id="add-result">
        <div class="container">
            <h2 class="section-title">Add Exam Result</h2>
            <div class="exam-form-container">
                <form id="examForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="studentName">Student Name</label>
                            <input type="text" id="studentName" required>
                        </div>
                        <div class="form-group">
                            <label for="relationship">Relationship</label>
                            <select id="relationship" required>
                                <option value="">Select Relationship</option>
                                <option value="Son">Son</option>
                                <option value="Daughter">Daughter</option>
                                <option value="Sibling">Sibling</option>
                                <option value="Nephew">Nephew</option>
                                <option value="Niece">Niece</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="examName">Exam Name</label>
                            <input type="text" id="examName" required>
                        </div>
                        <div class="form-group">
                            <label for="examDate">Exam Date</label>
                            <input type="date" id="examDate" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="subject">Subject</label>
                            <input type="text" id="subject" required>
                        </div>
                        <div class="form-group">
                            <label for="grade">Grade/Score</label>
                            <input type="text" id="grade" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="comments">Comments</label>
                        <textarea id="comments" rows="4"></textarea>
                    </div>
                    <div class="form-group text-center">
                        <button type="submit" class="btn primary-btn">Add Result</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <section id="view-results">
        <div class="container">
            <h2 class="section-title">Exam Results</h2>
            
            <div class="filters">
                <div class="filter-group">
                    <label for="filterStudent">Filter by Student:</label>
                    <select id="filterStudent">
                        <option value="all">All Students</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filterSubject">Filter by Subject:</label>
                    <select id="filterSubject">
                        <option value="all">All Subjects</option>
                    </select>
                </div>
                <div class="filter-group">
                    <button id="clearFilters" class="btn secondary-btn">Clear Filters</button>
                </div>
            </div>
            
            <div class="results-container">
                <table id="resultsTable">
                    <thead>
                        <tr>
                            <th>Student Name</th>
                            <th>Relationship</th>
                            <th>Exam Name</th>
                            <th>Date</th>
                            <th>Subject</th>
                            <th>Grade/Score</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody">
                        <!-- Results will be populated here by JavaScript -->
                    </tbody>
                </table>
                <div id="noResults" class="no-results">
                    <p>No exam results have been added yet.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="statistics">
        <div class="container">
            <h2 class="section-title">Performance Statistics</h2>
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Total Students</h3>
                        <p id="totalStudents">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Total Exams</h3>
                        <p id="totalExams">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-award"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Top Performer</h3>
                        <p id="topPerformer">-</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal for viewing details -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Exam Result Details</h2>
            <div class="result-details">
                <div class="detail-row">
                    <strong>Student:</strong>
                    <span id="modalStudentName"></span>
                </div>
                <div class="detail-row">
                    <strong>Relationship:</strong>
                    <span id="modalRelationship"></span>
                </div>
                <div class="detail-row">
                    <strong>Exam:</strong>
                    <span id="modalExamName"></span>
                </div>
                <div class="detail-row">
                    <strong>Date:</strong>
                    <span id="modalExamDate"></span>
                </div>
                <div class="detail-row">
                    <strong>Subject:</strong>
                    <span id="modalSubject"></span>
                </div>
                <div class="detail-row">
                    <strong>Grade/Score:</strong>
                    <span id="modalGrade"></span>
                </div>
                <div class="detail-row">
                    <strong>Comments:</strong>
                    <p id="modalComments"></p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 Kalab fasil. All Rights Reserved.</p>
        </div>
    </footer>
  <script>
    // DOM Elements
const examForm = document.getElementById('examForm');
const resultsTable = document.getElementById('resultsTable');
const resultsBody = document.getElementById('resultsBody');
const noResults = document.getElementById('noResults');
const filterStudent = document.getElementById('filterStudent');
const filterSubject = document.getElementById('filterSubject');
const clearFilters = document.getElementById('clearFilters');
const totalStudents = document.getElementById('totalStudents');
const totalExams = document.getElementById('totalExams');
const topPerformer = document.getElementById('topPerformer');
const modal = document.getElementById('resultModal');
const closeModal = document.querySelector('.close-modal');

// Mobile Navigation Toggle
const hamburger = document.querySelector('.hamburger');
const navLinks = document.querySelector('.nav-links');

hamburger.addEventListener('click', () => {
    navLinks.classList.toggle('active');
    hamburger.classList.toggle('active');
});

// Load exam results from localStorage
let examResults = JSON.parse(localStorage.getItem('examResults')) || [];

// Initialize the app
function init() {
    renderResults();
    updateStatistics();
    updateFilters();

    // Event listeners
    examForm.addEventListener('submit', addExamResult);
    clearFilters.addEventListener('click', clearAllFilters);
    filterStudent.addEventListener('change', filterResults);
    filterSubject.addEventListener('change', filterResults);
    closeModal.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    // Close modal when clicking outside
    window.addEventListener('click', (e) => {
        if (e.target === modal) {
            modal.style.display = 'none';
        }
    });
}

// Add new exam result
function addExamResult(e) {
    e.preventDefault();

    // Get form values
    const studentName = document.getElementById('studentName').value;
    const relationship = document.getElementById('relationship').value;
    const examName = document.getElementById('examName').value;
    const examDate = document.getElementById('examDate').value;
    const subject = document.getElementById('subject').value;
    const grade = document.getElementById('grade').value;
    const comments = document.getElementById('comments').value;

    // Create result object
    const newResult = {
        id: Date.now(),
        studentName,
        relationship,
        examName,
        examDate,
        subject,
        grade,
        comments
    };

    // Add to results array
    examResults.push(newResult);

    // Save to localStorage
    saveResults();

    // Reset form
    examForm.reset();

    // Update UI
    renderResults();
    updateStatistics();
    updateFilters();

    // Show success message
    alert('Exam result added successfully!');
}

// Save results to localStorage
function saveResults() {
    localStorage.setItem('examResults', JSON.stringify(examResults));
}

// Render results table
function renderResults(filteredResults = null) {
    const results = filteredResults || examResults;
    
    // Clear results table
    resultsBody.innerHTML = '';
    
    if (results.length === 0) {
        resultsTable.style.display = 'none';
        noResults.style.display = 'block';
    } else {
        resultsTable.style.display = 'table';
        noResults.style.display = 'none';
        
        // Add results to table
        results.forEach(result => {
            const row = document.createElement('tr');
            
            // Format date
            const date = new Date(result.examDate);
            const formattedDate = date.toLocaleDateString();
            
            row.innerHTML = `
                <td>${result.studentName}</td>
                <td>${result.relationship}</td>
                <td>${result.examName}</td>
                <td>${formattedDate}</td>
                <td>${result.subject}</td>
                <td>${result.grade}</td>
                <td>
                    <button class="action-btn view-btn" data-id="${result.id}">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button class="action-btn delete-btn" data-id="${result.id}">
                        <i class="fas fa-trash"></i>
                    </button>
                </td>
            `;
            
            resultsBody.appendChild(row);
        });
        
        // Add event listeners to view and delete buttons
        document.querySelectorAll('.view-btn').forEach(btn => {
            btn.addEventListener('click', viewResult);
        });
        
        document.querySelectorAll('.delete-btn').forEach(btn => {
            btn.addEventListener('click', deleteResult);
        });
    }
}

// View result details
function viewResult(e) {
    const resultId = parseInt(e.currentTarget.getAttribute('data-id'));
    const result = examResults.find(res => res.id === resultId);
    
    if (result) {
        // Format date
        const date = new Date(result.examDate);
        const formattedDate = date.toLocaleDateString();
        
        // Populate modal
        document.getElementById('modalStudentName').textContent = result.studentName;
        document.getElementById('modalRelationship').textContent = result.relationship;
        document.getElementById('modalExamName').textContent = result.examName;
        document.getElementById('modalExamDate').textContent = formattedDate;
        document.getElementById('modalSubject').textContent = result.subject;
        document.getElementById('modalGrade').textContent = result.grade;
        document.getElementById('modalComments').textContent = result.comments || 'No comments provided';
        
        // Show modal
        modal.style.display = 'block';
    }
}

// Delete result
function deleteResult(e) {
    if (confirm('Are you sure you want to delete this result?')) {
        const resultId = parseInt(e.currentTarget.getAttribute('data-id'));
        
        // Remove from array
        examResults = examResults.filter(res => res.id !== resultId);
        
        // Save to localStorage
        saveResults();
        
        // Update UI
        renderResults();
        updateStatistics();
        updateFilters();
    }
}

// Update filters
function updateFilters() {
    // Clear existing options
    filterStudent.innerHTML = '<option value="all">All Students</option>';
    filterSubject.innerHTML = '<option value="all">All Subjects</option>';
    
    // Get unique students and subjects
    const students = [...new Set(examResults.map(res => res.studentName))];
    const subjects = [...new Set(examResults.map(res => res.subject))];
    
    // Add options to student filter
    students.forEach(student => {
        const option = document.createElement('option');
        option.value = student;
        option.textContent = student;
        filterStudent.appendChild(option);
    });
    
    // Add options to subject filter
    subjects.forEach(subject => {
        const option = document.createElement('option');
        option.value = subject;
        option.textContent = subject;
        filterSubject.appendChild(option);
    });
}

// Filter results
function filterResults() {
    const studentFilter = filterStudent.value;
    const subjectFilter = filterSubject.value;
    
    let filteredResults = examResults;
    
    // Apply student filter
    if (studentFilter !== 'all') {
        filteredResults = filteredResults.filter(res => res.studentName === studentFilter);
    }
    
    // Apply subject filter
    if (subjectFilter !== 'all') {
        filteredResults = filteredResults.filter(res => res.subject === subjectFilter);
    }
    
    // Render filtered results
    renderResults(filteredResults);
}

// Clear all filters
function clearAllFilters() {
    filterStudent.value = 'all';
    filterSubject.value = 'all';
    renderResults();
}

// Update statistics
function updateStatistics() {
    // Count unique students
    const uniqueStudents = [...new Set(examResults.map(res => res.studentName))];
    totalStudents.textContent = uniqueStudents.length;
    
    // Count total exams
    totalExams.textContent = examResults.length;
    
    // Find top performer
    if (examResults.length > 0) {
        // Group results by student
        const studentResults = {};
        
        examResults.forEach(res => {
            if (!studentResults[res.studentName]) {
                studentResults[res.studentName] = [];
            }
            studentResults[res.studentName].push(res);
        });
        
        // Find student with most results (as a simple metric)
        let maxCount = 0;
        let topStudent = '';
        
        for (const student in studentResults) {
            if (studentResults[student].length > maxCount) {
                maxCount = studentResults[student].length;
                topStudent = student;
            }
        }
        
        topPerformer.textContent = topStudent || '-';
    } else {
        topPerformer.textContent = '-';
    }
}

// Initialize the app
document.addEventListener('DOMContentLoaded', init); 
  </script>

    <script src="js/exam.js"></script>
</body>
</html> 
